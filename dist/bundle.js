(()=>{"use strict";const e=e=>`http://api.openweathermap.org/geo/1.0/direct?q=${e}&limit=5`;window.addEventListener("DOMContentLoaded",(()=>{(()=>{const t=document.querySelector("[data-search-view]");!function(e,t,a){for(const t of e)t.addEventListener("click",a)}(document.querySelectorAll("[data-search-toggler]"),0,(()=>t.classList.toggle("active")));const a=document.querySelector("[data-search-field]"),s=document.querySelector("[data-search-result]");let n=null;a.addEventListener("input",(function(){n??clearTimeout(n),a.value?a.classList.add("searching"):(s.classList.remove("active"),s.innerHTML="",a.classList.remove("searching")),a.value&&(n=setTimeout((()=>{var t,n;t=e(a.value),n=function(e){a.classList.remove("searching"),s.classList.add("active"),s.innerHTML='\n                <ul class="view-list" data-search-list></ul>\n                ';const t=[];for(const{name:a,lat:n,lon:c,country:l,state:i}of e){const e=document.createElement("li");e.classList.add("view-item"),e.innerHTML=`\n                        <span class="m-icon">location_on</span>\n                        <div>\n                            <p class="item-title">${a}</p>      \n                            <p class="label-2 item-subtitle">${i||""} ${l}</p>\n                        </div>\n                        <a href="#/weather?lat=${n}&lon=${c}" class="item-link has-state" aria-label="${a} weather" data-search-toggler></a>\n                    `,s.querySelector("[data-search-list]").appendChild(e),t.push(e.querySelector("[data-search-toggler]"))}},fetch(`${t}&appid=df7ac5c99d7c7f788e64ec68ba2508a3`).then((e=>e.json())).then((e=>n(e)))}),500))}))})()}))})();